[gd_scene load_steps=2 format=3 uid="uid://b5x464niotexu"]

[ext_resource type="Script" uid="uid://d1rstpchmbfdi" path="res://所有卡牌/随从/BaseMinion.gd" id="1_mirror"]

[node name="镜中鬼怪" type="Node"]
script = ExtResource("1_mirror")
race = Array[int]([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10])
atk_hp = Vector2i(4, 4)
DuoGameExclusive = true
lushi_id = 104550
str_id = "BGDUO_108"
"名称" = "镜中鬼怪"
"描述" = "当你购买或<b>发现</b>本随从时，获取一张额外复制并<b>传递</b>。"
"glod_描述" = "当你购买或<b>发现</b>本随从时，获取2张额外复制并<b>传递</b>。"
"等级" = 4
metadata/_custom_type_script = "uid://d1rstpchmbfdi"

[sub_resource type="GDScript" id="GDScript_1"]
script/source = "extends BaseMinion

func 信号绑定():
	player.操作中添加卡片信号.connect(_on_操作中添加卡片)

func _on_操作中添加卡片(添加卡牌: CardEntity, cardPosition: Enums.CardPosition, index: int):
	if 添加卡牌 != self:
		return
	if cardPosition != Enums.CardPosition.手牌:
		return
	_获取额外复制()

func _获取额外复制():
	var copy_count: int = 1 * 获取倍率() # 1 for normal, 2 for golden
	for i in copy_count:
		var copy = CardUtils.get_card(名称, player)
		copy.is_gold = self.is_gold
		player.添加卡片(copy, Enums.CardPosition.手牌, -1, true)
		# Assuming there's a method to pass cards to teammate
		# This is a placeholder implementation
		print('镜中鬼怪触发：获取额外复制并传递')
"
