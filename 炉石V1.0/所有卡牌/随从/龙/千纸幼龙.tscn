[gd_scene load_steps=2 format=3 uid="uid://by738qv1p5xlb"]

[sub_resource type="GDScript" id="GDScript_paper_drake"]
resource_name = "千纸幼龙"
script/source = "extends BaseMinion

func 战斗开始时():
	# 获取战场上的龙族随从(按从左到右顺序)
	var 龙族列表 = player.获取战场上的牌()\\
		.filter(func(item:BaseMinion): return item.race.has(Enums.CardRace.龙))
	# 计算需要强化的数量(普通卡1个，金色卡2个)
	var 强化数量 = min(获取倍率(), 龙族列表.size())
	for i in 强化数量:
		var 目标龙 = 龙族列表[i]
		# 创建属性加成
		var 加成 = AttributeBonus.build(
			名称,
			Vector2i(1, 2),  # +1攻击/+2生命
			名称
		)
		# 应用加成(临时加成，仅限本场战斗)
		目标龙.属性加成(加成, true, false)
		# 赋予风怒效果
		目标龙.风怒 = true
"
metadata/_custom_type_script = "uid://d1rstpchmbfdi"

[node name="千纸幼龙" type="Node"]
script = SubResource("GDScript_paper_drake")
race = Array[int]([3])
atk_hp = Vector2i(2, 3)
lushi_id = 108116
str_id = "BG29_810"
"名称" = "千纸幼龙"
"描述" = "<b>战斗开始时：<\\/b>使你最左边的龙获得+1\\/+2和<b>风怒<\\/b>。"
"glod_描述" = "<b>战斗开始时：<\\/b>使你最左边的两条龙获得+1\\/+2和<b>风怒<\\/b>。"
"等级" = 2
metadata/_custom_type_script = "uid://d1rstpchmbfdi"
